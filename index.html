<!DOCTYPE html>
<html>
  <head>
    <title>Documentation - Exchange Rate API</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="Convert currencies instantly with our Currency Converter API. Get real-time exchange rates and accurate currency conversions for over 150 currencies worldwide. Easy to integrate and free to use. Start converting now.">
    <meta name="keywords" content="Currency Converter API, Real-time exchange rates, Foreign Exchange API", "Global currency rates", "Free currency conversion", "Live currency data", "Currency conversion service" >
    <meta property="og:title" content="Exchange Rates API">
    <meta property="og:image" content="https://currency-rates.onrender.com/logo.png" />
    <meta property="og:image:secure_url" content="https://currency-rates.onrender.com/logo.png" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="100" />
    <meta property="og:image:height" content="100" />
    <meta property="og:image:alt" content="USD note to our currency" />
    <meta property="og: description" content="Convert currencies instantly with our Currency Converter API. Get real-time exchange rates and accurate currency conversions for over 150 currencies worldwide. Easy to integrate and free to use. Start converting now.">
    <meta property="og:type" content="website">
    <meta property ="og:url" content="https://currency-rates.onrender.com/">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />

    <style>
      * {
        padding: 0;
        margin: 0;
      }
      pre {
        color: #fffde7;
        background-color: #212121;
        font-weight: 600;
        padding: 6px;
        border-radius: 5px;
      }
      pre .comment {
        color: #aeaeae;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="navbar bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="26"
              height="26"
              fill="currentColor"
              class="mx-2 bi bi-cash-coin"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"
              />
              <path
                d="M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"
              />
              <path
                d="M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"
              />
              <path
                d="M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"
              />
            </svg>
            My Exchange Rate API
          </a>
        </div>
      </nav>
    </header>
    <div class="container my-4">
      <main class="card">
        <div class="card-body py-2">
          <h2 class="card-title text-center mb-4">
            Exchange Rate API Documentation
          </h2>
          <section class="mb-4">
            <p class="lead card-text">
              This Exchange Rate API allows you to convert one currency to
              another currency for free without any registration or API Key.
            </p>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Endpoint</h5>

            <p class="card-text">The base endpoint for the API is:</p>

            <pre><code><span id="origin"></span>/convert?from={convertFrom}&to={convertTo}&amount={amountToConvert}</code></pre>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Request Parameters</h5>

            <table class="rounded table">
              <thead class="table-light">
                <tr>
                  <th scope="col">Parameter</th>
                  <th scope="col">Type</th>
                  <th scope="col">Description</th>
                </tr>
              </thead>
              <tbody class="table-light">
                <tr>
                  <td>amount</td>
                  <td>Integer</td>
                  <td>The amount of money to convert.(must be an integer)</td>
                </tr>
                <tr>
                  <td>from</td>
                  <td>String</td>
                  <td>The currency code to convert from (e.g. USD).</td>
                </tr>
                <tr>
                  <td>to</td>
                  <td>String</td>
                  <td>The currency code to convert to (e.g. EUR).</td>
                </tr>
              </tbody>
            </table>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Response</h5>

            <p class="card-text">
              The response will be a JSON object with the converted amount and
              the exchange rate used in the conversion:
            </p>

            <pre><code id="responsePre">{
  "status": 200,
  "result": true,
  "conversion": {
    "from": {
      "currency_amount": "1 INR ",
      "conversion_rate": "0.012116"
    },
    "to": {
      "currency_amount": "1 USD ",
      "conversion_rate": "82.535490261"
    }
  },
  "amount": "300",
  "final_converted_amount": "3.6348",
  "last_updated_unix_timestamp": 1679134870656
}
</code></pre>

            <ul>
              <li>
                "status": 200 indicates that the client request was successfully
                processed.
              </li>
              <li>
                "result": true indicates that the conversion was successful.
              </li>
              <li>
                "conversion" is an object containing details about the
                conversion:
              </li>

              <ul>
                <li>
                  "from" is an object indicating the original currency amount
                  and conversion rate (INR to USD).
                </li>
                <ul>
                  <li>
                    "currency_amount": "1 INR " indicates that the original
                    currency amount as 1 Indian Rupee.
                  </li>
                  <li>
                    "conversion_rate": "0.012116" indicates that the conversion
                    rate from 1 INR into USD will be 0.012116.
                  </li>
                </ul>
                <li>
                  "to" is an object indicating the currency to be converted
                  amount and conversion rate (USD).
                </li>
                <ul>
                  <li>
                    "currency_amount": "1 USD " indicates that the converted
                    currency amount as 1 US Dollar.
                  </li>
                  <li>
                    "conversion_rate": "82.535490261" indicates that the
                    conversion rate from 1 USD into INR will be 82.535490261.
                  </li>
                </ul>
              </ul>
              <li>
                "amount": "300" indicates the requested amount from the query
              </li>
              <li>
                "final_converted_amount": "3.6348" indicates the final amount
                after the currency conversion, in this case, the equivalent of
                300 INR (requested query amount) is 3.6348 USD.
              </li>
              <li>
                "last_updated_unix_timestamp": 1679134870656 is the Unix
                timestamp indicating the time when the conversion rates were
                last updated.
              </li>
            </ul>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Example Request</h5>

            <p class="card-text">To convert 100 USD to EUR:</p>

            <pre><code><span id="origin"></span></span>/convert?from=USD&to=EUR&amount=100</code></pre>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Example Response</h5>

            <pre><code id="exampleRes">{
  status: 200,
  "result": true,
  "conversion": {
    "from": { 
      "currency_amount": "1 EUR ", 
      "conversion_rate": "1.077550211" 
    },
    "to": { 
      "currency_amount": "1 USD ", 
      "conversion_rate": "0.928031" 
    },
  },
  "amount": "100",
  "final_converted_amount": "107.7550211",
  "last_updated_unix_timestamp": 1679150783301,
}</code></pre>
            <div class="d-flex justify-content-end">
              <button id="fetchBtn" type="button" class="mx-1 btn btn-primary">
                Fetch latest
              </button>
            </div>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Error handling</h5>

            <p class="card-text">
              If there is an error with your, API will return a JSON object in
              following format:
            </p>

            <pre><code>{
  "status": http-status-code,
  "result": false,
  "message": "small description related to error"
}</code></pre>
            <h6 class="card-title">Example Error Response:</h6>
            <pre><code>{
  "status": 400,
  "result": false,
  "message": "conversion amount must be an Integer"
}</code></pre>
            <p class="card-text">
              The API may send result as false/an error message in the following
              scenarios:
            </p>
            <ul class="list-styled">
              <li>When the client sends too many requests.</li>
              <li>If the amount requested in query is not an integer.</li>
              <li>
                When the 'from' and 'to' currency codes are identical in
                requested query.
              </li>
              <li>If the currency code specified is invalid.</li>
              <li>If there is an error on the server while processing data.</li>
            </ul>
            <p class="card-text">
              By providing clear and concise information about potential error
              scenarios, users of the API will be better equipped to handle and
              troubleshoot issues that may arise.
            </p>
          </section>

          <section class="mb-4">
            <h5 class="card-title">Rate Limitating</h5>
            <p class="card-text">
              The Currency Converter API limits the number of requests every 10
              minutes to prevent abuse. If you exceed the rate limit, the API
              will return a 429 HTTP status code with JSON object with error
              message.
            </p>
          </section>
        </div>
      </main>
    </div>
    <script>
      function fetchNewData() {
        fetch('/convert?amount=100&from=USD&to=EUR')
          .then((r) => r.json())
          .then((data) => {
            console.log(data)
            document.querySelector("#exampleRes").innerText = JSON.stringify(
              data,
              null,
              2
            );
          })
          .catch((e) => {
            console.log(e, "error fetching API");
            alert(
              "There was an error while fetching data\nPlease try again later"
            );
          });
      }
      document.querySelectorAll("#origin").forEach((el) => {
        el.innerText = location.origin;
      });
      document
        .querySelector("#fetchBtn")
        .addEventListener("click", fetchNewData);
    </script>
  </body>
</html>
